<!doctype html>
<html>
  <head>
    <title>Log a Run - Shape Runner</title>
    <link rel="stylesheet" href="/styles.css">
  </head>

  <body>

    <!-- Navigation Bar -->
    <nav>
      <a href="/">Home</a>
      <a href="/about">About</a>
      <a href="/routes/generate">Generate Route</a>
      <a href="/routes/search">My Routes</a>
      <a href="/runs/add">Log Run</a>
      <a href="/runs/search">My Runs</a>

      <span style="margin-left:auto;">
        <a href="/logout">Logout</a>
      </span>
    </nav>

    <div class="page">
      <h1>Log a Run</h1>

      <% if (error) { %>
        <div class="error"><%= error %></div>
      <% } %>

      <% if (routes.length === 0) { %>
        <div class="card">
          <p>You don't have any saved routes yet.</p>
          <p>
            <a href="/routes/generate">Generate and save a route first.</a>
          </p>
        </div>
      <% } else { %>

        <div class="card">
          <h3>Run Details</h3>

          <form method="POST" action="/runs/add">
            <label>Route:
              <select name="routeId" required>
                <% routes.forEach(function(route) { %>
                  <option value="<%= route.id %>"><%= route.name %></option>
                <% }) %>
              </select>
            </label>

            <label>Date of run:
              <input type="date" name="runDate" required>
            </label>

            <label>Duration (minutes):
              <input type="number" name="durationMinutes" step="0.1" min="0">
            </label>

            <label>Rating (1â€“5):
              <input type="number" name="rating" min="1" max="5">
            </label>

            <label>Notes:
              <textarea name="notes" rows="3"></textarea>
            </label>

            <input type="submit" value="Save Run">
          </form>
        </div>

      <% } %>
    </div>
  </body>
</html>